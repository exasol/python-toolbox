.. _ignore_findings:

How to Ignore Sonar Findings?
=============================

In case of Sonar findings, you cannot fix or there is an agreement to ignore
these findings, you can add a comment to ignore a particular finding.

Please choose this approach only as a last resort.

Example
-------

As Sonar reports only findings generated by other tools there are often
multiple IDs you can use for referring to a particular issue.  E.g. security
findings can be reported by ``bandit`` and hence for each finding there is a
bandit ID as well as a Sonar ID.

For ``subprocess.run(args)``, Sonar could for example report *subprocess
call - check for execution of untrusted input*. In the Sonar UI, when clicking
on "Why is this an issue?" you may find references like

* *B603: Test for use of subprocess with shell equals true
  external_bandit:B603*
* *See description of Bandit rule B603 at the*
  `Bandit <https://bandit.readthedocs.io/en/latest/plugins/b603_subprocess_without_shell_equals_true.html>`__
  *website*.

In this case, the bandit error code is ``B603``, which you can ignore
either via Sonar UI or via source code comments.


Accepting a Finding Via Sonar UI
--------------------------------

The following screenshot shows how to accept a finding in the Sonar UI.

.. image:: ignore_sonar_finding.png
   :width: 400px
   :alt: Accepting a Finding Via Sonar UI


Ignoring a Finding Via Source Code Comments
-------------------------------------------

The following example shows how to ignore a finding, by appending a comment to
the relevant implementation in the source code.

.. code-block:: python

    subprocess.run(args)  # nosec: B603 - risk of untrusted input is accepted
